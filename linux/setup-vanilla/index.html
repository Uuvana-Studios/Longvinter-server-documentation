<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Uuvana Studios">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Vanilla Setup - Longvinter Server Docs</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Vanilla Setup";
    var mkdocs_page_input_path = "linux/setup-vanilla.md";
    var mkdocs_page_url = "/linux/setup-vanilla/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Longvinter Server Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="tocbase current">
    
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../..">Home</a>
  </li>
    
      
  <li class="navtree toctree-l1 label">
    <p class="caption">Linux Guide</p>
  </li>


  

  
    <li class="navtree toctree-l1 group">
      <ul class="navtree subnav-l1 current">
          


  
    
    <li class="navtree toctree-l2 page current">
      <a class="current" href="./">
        Vanilla Setup
          <span class="toctree-expand"></span>
      </a>
    </li>
    
      



  <li class="toctree-l2 current">
    <ul class="subnav-l2 current">
    
      
          

  <li class="toctree-l3 current with-children">
    <a href="#how-to-setup-a-longvinter-server-in-linux">
      How to setup a Longvinter server in Linux
      <span class="toctree-expand"></span>
    </a>
  </li>



  <li class="toctree-l3 current">
    <ul class="subnav-l3 current">
    
      
        <li class="toctree-l4">
          <a class="toctree-l5" href="#requirements-and-pre-requisites">Requirements and Pre-requisites</a>
        </li>
    
      
          

  <li class="toctree-l4">
    <a href="#system-setup">
      System Setup
      <span class="toctree-expand"></span>
    </a>
  </li>



  <li class="toctree-l4">
    <ul class="subnav-l4 toc-hidden">
    
      
        <li class="toctree-l5">
          <a class="toctree-l6" href="#installing-git-large-file-system">Installing GIT Large file system</a>
        </li>
    
      
        <li class="toctree-l5">
          <a class="toctree-l6" href="#creating-a-dedicated-user">Creating a dedicated user</a>
        </li>
    
      
        <li class="toctree-l5">
          <a class="toctree-l6" href="#installing-steam-sdk">Installing Steam SDK</a>
        </li>
    
      
        <li class="toctree-l5">
          <a class="toctree-l6" href="#copying-steam-sdk-to-right-place">Copying Steam SDK to right place</a>
        </li>
    
    </ul>
  </li>

      
    
      
        <li class="toctree-l4">
          <a class="toctree-l5" href="#installing-the-server">Installing the server</a>
        </li>
    
      
        <li class="toctree-l4">
          <a class="toctree-l5" href="#customizing-the-server">Customizing the server</a>
        </li>
    
      
          

  <li class="toctree-l4">
    <a href="#running-the-server">
      Running the server
      <span class="toctree-expand"></span>
    </a>
  </li>



  <li class="toctree-l4">
    <ul class="subnav-l4 toc-hidden">
    
      
        <li class="toctree-l5">
          <a class="toctree-l6" href="#start-the-server-manually-with-shell-script">Start the server manually with shell script</a>
        </li>
    
      
        <li class="toctree-l5">
          <a class="toctree-l6" href="#start-the-server-automatically-with-systemd-recommended">Start the server automatically with Systemd (Recommended)</a>
        </li>
    
    </ul>
  </li>

      
    
      
          

  <li class="toctree-l4">
    <a href="#server-maintenance">
      Server Maintenance
      <span class="toctree-expand"></span>
    </a>
  </li>



  <li class="toctree-l4">
    <ul class="subnav-l4 toc-hidden">
    
      
        <li class="toctree-l5">
          <a class="toctree-l6" href="#updating-the-server">Updating the server</a>
        </li>
    
      
        <li class="toctree-l5">
          <a class="toctree-l6" href="#backing-up-your-saves">Backing up your saves</a>
        </li>
    
    </ul>
  </li>

      
    
    </ul>
  </li>

      
    
    </ul>
  </li>


  
        
          


  <li class="navtree toctree-l2 inactive">
    <a class="" href="../setup-docker.md">Docker Setup</a>
  </li>
        
      </ul>
    </li>
    
      
  <li class="navtree toctree-l1 label">
    <p class="caption">Windows Guide</p>
  </li>


  

  
    <li class="navtree toctree-l1 group">
      <ul class="navtree subnav-l1 current">
          


  <li class="navtree toctree-l2 inactive">
    <a class="" href="../../windows/setup-vanilla.md">Vanilla Setup</a>
  </li>
        
          


  <li class="navtree toctree-l2 inactive">
    <a class="" href="../../windows/setup-docker.md">Docker Setup</a>
  </li>
        
      </ul>
    </li>
    
  </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Longvinter Server Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Linux Guide &raquo;</li>
        
      
    
    <li>Vanilla Setup</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="vanilla-setup">Vanilla Setup</h1>
<h2 id="how-to-setup-a-longvinter-server-in-linux">How to setup a Longvinter server in Linux</h2>
<p>If you have any trouble following the guide. Please send us a message in <a href="https://discord.gg/SmPZ8hRqMV">Discord</a> we are more than happy to help you out!</p>
<h3 id="requirements-and-pre-requisites">Requirements and Pre-requisites</h3>
<ul>
<li>GIT installed in your system</li>
<li>GIT LFS installed in your system</li>
<li>SteamCMD installed in your system</li>
<li>Broadband internet connection</li>
<li>Router with the ability to port forward</li>
<li>Min. 2 GB RAM</li>
</ul>
<h3 id="system-setup">System Setup</h3>
<h4 id="installing-git-large-file-system">Installing GIT Large file system</h4>
<p>.pak files are large and we need to install Git Lfs in order to download them</p>
<p>Run the following commands according to your chosen system:</p>
<p><strong>Ubuntu/Debian</strong>:
- <code>$ apt update</code>
- <code>$ apt install git git-lfs</code></p>
<p><strong>Arch-Linux</strong>:
- <code>$ pacman -Sy</code>
- <code>$ pacman -S git git-lfs</code></p>
<p><strong>Fedora</strong>:
- <code>$ yum update</code>
- <code>$ yum install git git-lfs</code></p>
<h4 id="creating-a-dedicated-user">Creating a dedicated user</h4>
<ul>
<li><code>$ useradd -m -d /home/steam steamcmd</code></li>
<li><code>$ passwd steamcmd</code> (Choose a stronge secure password)</li>
<li><code>$ usermod -aG sudo steamcmd</code></li>
<li><code>$ su steamcmd</code></li>
</ul>
<h4 id="installing-steam-sdk">Installing Steam SDK</h4>
<p>The Steam server browser needs steamsdk and for this we need to install SteamCMD, we will do this under the steamcmd user:
- <code>cd ~/</code> Makes sure we are in the home directory
- <code>mkdir steamcmd</code> Makes SteamCMD directory
- <code>cd steamcmd</code> Goes to the SteamCMD directory
- <code>apt install lib32stdc++6</code> Install lib32std
- <code>wget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz</code> Downloads SteamCMD Tar File.
- <code>tar -xvzf steamcmd_linux.tar.gz</code> Extracts SteamCMD
- <code>./steamcmd.sh +force_install_dir . +login anonymous +app_update 1007 +quit</code> Runs SteamCMD to login, install a app update and quit upon completion.</p>
<p>Steam CMD will install updates automatically and login to install 64-bit SDK.</p>
<h4 id="copying-steam-sdk-to-right-place">Copying Steam SDK to right place</h4>
<p>We still need to move the sdk to default location where the server tries to:
- <code>cd ~/.steam</code> Go to the steam folder
- <code>mkdir sdk64</code> Create folder for the sdk
- <code>cp ~/steamcmd/linux64/steamclient.so ~/.steam/sdk64/</code> Copy the steamclient.so from SteamCmd to .steam/sdk64 folder</p>
<h3 id="installing-the-server">Installing the server</h3>
<p>After this we want to make sure we are in home directory:
- <code>cd ~/</code></p>
<p>Then we can clone the Linux repository:
- <code>git clone https://github.com/Uuvana-Studios/longvinter-linux-server.git</code></p>
<p>Then we want to give permission for this folder to execute commands with:
- <code>sudo chmod -R ugo+rwx longvinter-linux-server/</code></p>
<p>After this we can open the required ports by executing the following commands:
- <code>sudo iptables -I INPUT -p udp --dport 7777 -j ACCEPT</code>
- <code>sudo iptables -I INPUT -p tcp --dport 7777 --syn -j ACCEPT</code>
- <code>sudo iptables -I INPUT -p udp --dport 27016 -j ACCEPT</code>
- <code>sudo iptables -I INPUT -p tcp --dport 27016 --syn -j ACCEPT</code>
- <code>sudo iptables -I INPUT -p udp --dport 27015 -j ACCEPT</code>
- <code>sudo iptables -I INPUT -p tcp --dport 27015 --syn -j ACCEPT</code></p>
<h3 id="customizing-the-server">Customizing the server</h3>
<p>Server values can be customized with Game.ini</p>
<p>Create the file for edit with
<code>nano ~/longvinter-linux-server/Longvinter/Saved/Config/LinuxServer/Game.ini</code></p>
<p>Add the following content there</p>
<pre><code>[/Game/Blueprints/Server/GI_AdvancedSessions.GI_AdvancedSessions_C]
ServerName=Unnamed Island
MaxPlayers=32
ServerMOTD=Welcome to Longvinter Island!
Password=
CommunityWebsite=www.longvinter.com

[/Game/Blueprints/Server/GM_Longvinter.GM_Longvinter_C]
AdminSteamID=76561198965966997
</code></pre>
<ul>
<li><strong>ServerName:</strong> Name that shows up in the server browser. Please don't call your server with OFFICIAL name. We want players to clearly know if they are joining a server that is hosted by other players.</li>
<li><strong>ServerMOTD:</strong> Server message that is on a signs around the island.</li>
<li><strong>MaxPlayer:</strong> Maximum allowed players that can connect at any given time.</li>
<li><strong>CommunityWebsite:</strong> Allows you to promote a website on a same place where the server message is shown. This link can be opened in-game.</li>
<li><strong>Password:</strong> Add you password here. Use only number and letters. If left empty there is no password on the server.</li>
<li><strong>AdminSteamID:</strong> Here you can add all the admins that you want to have in the server. <strong>If you want to add multiple</strong> separate id's with single space.</li>
<li>AdminSteamID=76561198965966997 11859676569976596</li>
</ul>
<h3 id="running-the-server">Running the server</h3>
<h4 id="start-the-server-manually-with-shell-script">Start the server manually with shell script</h4>
<ul>
<li><code>sh /home/steam/longvinter-linux-server/LongvinterServer.sh</code></li>
</ul>
<h4 id="start-the-server-automatically-with-systemd-recommended">Start the server automatically with Systemd (Recommended)</h4>
<ul>
<li><code>$ cp /home/steam/longvinter-linux-server/longvinter.service /etc/systemd/system/longvinter.service</code></li>
<li><code>$ systemctl daemon-reload</code></li>
</ul>
<p>Now, how to use it:
- <code>$ systemctl start longvinter.service</code> (Starts the server)
- <code>$ systemctl stop longvinter.service</code> (Stops the server)
- <code>$ systemctl restart longvinter.service</code> (Restart the server, for example, if you made a change to Game.ini)
- <code>$ systemctl enable longvinter.service</code> (Everytime you reboot the machine it starts on boot)
- <code>$ systemctl status longvinter.service</code> (Checks the latest 20 lines on the server console)</p>
<p>If the console shows these lines at the bottom after startup your server has started corretly</p>
<pre><code>[2022.02.22-12.51.34:514][ 13]LogOnline: Verbose: STEAM: FOnlineAsyncEventSteamServerConnectedGS ServerId: Server[0x***************]
[2022.02.22-12.51.34:782][ 21]LogOnline: Verbose: STEAM: FOnlineAsyncEventSteamServerPolicyResponseGS Secure: 1
[2022.02.22-12.51.34:849][ 23]LogOnline: Verbose: OSS: Async task 'FOnlineAsyncTaskSteamCreateServer bWasSuccessful: 1' succeeded in 2.828243 seconds
[2022.02.22-12.51.34:849][ 23]LogOnlineSession: Warning: STEAM: Server setting ,TOTPLAYING_s:0 overflows Steam SetGameTags call
[2022.02.22-12.51.34:849][ 23]LogOnlineSession: Warning: STEAM: Server setting ,ServerName_s:[EU] Uuvana 1 overflows Steam SetGameTags call
</code></pre>
<h3 id="server-maintenance">Server Maintenance</h3>
<h4 id="updating-the-server">Updating the server</h4>
<p>We have created an automated script that you can run to automatically update and restart a server.
- <code>bash /home/steam/longvinter-linux-server/LongvinterUpdate.sh</code></p>
<h4 id="backing-up-your-saves">Backing up your saves</h4>
<p>We have created an automated script that you can run to automatically backup and restart a server, for now it has to be run manually and it requires user input.
- <code>bash /home/steam/longvinter-linux-server/LongvinterBackup.sh</code></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../.." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2021 <a href="https://github.com/Uuvana-Studios">Uuvana Studios</a>.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/Uuvana-Studios/Longvinter-server-documentation" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../.." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
